<section id="hero" class="hero text-center p-3 p-md-5">
	<div class="custom-video-wrapper position-relative">
		<video autoplay id="expertiseVideo" class="w-100 rounded shadow">
			<source src="/videos/Conduite_Expertise.mp4" type="video/mp4" />
			<%= __('home.hero.video_fallback') %>
		</video>

		<!-- Custom controls -->
		<div
			class="video-controls d-flex justify-content-center align-items-center gap-3 p-2 mt-2"
		>
			<button id="playPauseBtn" class="btn btn-outline-primary">
				<i class="bi bi-play-fill"></i>
			</button>

			<input id="seekBar" type="range" class="form-range" value="0" />

			<!-- Volume section -->
			<div class="d-flex align-items-center gap-2">
				<i id="volumeIcon" class="bi bi-volume-up-fill"></i>
				<input
					id="volumeControl"
					type="range"
					min="0"
					max="1"
					step="0.01"
					value="1"
					class="form-range w-auto"
				/>
			</div>
		</div>
	</div>
	<div class="booking-action">
		<h2 class="display-4"><%= __('home.hero.book_now') %></h2>

		<a href="/booking" class="btn btn-booking mb-5 px-4 py-2">
			<i class="bi bi-calendar-check me-1"></i>
			<%= __('home.hero.booking') %>
		</a>
	</div>
</section>

<section id="services" class="container py-5">
	<div class="row g-4 mt-2">
		<div class="col-md-4">
			<div class="service-card p-4 h-100 text-center">
				<i class="bi bi-person-plus display-4 text-brand mb-3"></i>
				<h5><%= __('home.services.full_courses') %></h5>
				<p><%= __('home.services.full_courses_desc') %></p>
			</div>
		</div>
		<div class="col-md-4">
			<div class="service-card p-4 h-100 text-center">
				<i class="bi bi-speedometer2 display-4 text-brand mb-3"></i>
				<h5><%= __('home.services.improvement_lessons') %></h5>
				<p><%= __('home.services.improvement_lessons_desc') %></p>
			</div>
		</div>
		<div class="col-md-4">
			<div class="service-card p-4 h-100 text-center">
				<i class="bi bi-car-front display-4 text-brand mb-3"></i>
				<h5><%= __('home.services.car_rental') %></h5>
				<p><%= __('home.services.car_rental_desc') %></p>
			</div>
		</div>
	</div>
</section>

<section id="reviews" class="bg-light-custom py-5 text-center">
	<div class="container">
		<h2 class="text-center mb-4 display-4"
			><%= __('home.reviews.title') %></h2
		>

		<% if (reviews && reviews.length > 0) { %>
		<div
			id="reviewsCarousel"
			class="carousel slide"
			data-bs-ride="carousel"
		>
			<!-- Indicators -->
			<div class="carousel-indicators">
				<% reviews.forEach((_, index) => { %>
				<button
					type="button"
					data-bs-target="#reviewsCarousel"
					data-bs-slide-to="<%= index %>"
					class="<%= index === 0 ? 'active' : '' %>"
					aria-label="Slide <%= index + 1 %>"
				></button>
				<% }) %>
			</div>

			<!-- Review Slides -->
			<div class="carousel-inner">
				<% reviews.forEach((review, index) => { %>
				<div class="carousel-item <%= index === 0 ? 'active' : '' %>">
					<div
						class="card p-4 shadow-sm text-center mx-auto"
						style="max-width: 600px"
					>
						<div
							class="d-flex justify-content-center align-items-center gap-3 mb-3"
						>
							<img
								src="<%= review.profile_photo_url %>"
								alt="<%= review.author_name %>"
								class="rounded-circle"
								width="60"
								height="60"
								referrerpolicy="no-referrer"
								loading="lazy"
							/>
							<div class="star-rating">
								<%= '⭐'.repeat(review.rating || 0) %>
							</div>
						</div>

						<blockquote class="blockquote mb-2">
							<p>“<%= review.text %>”</p>
						</blockquote>
						<footer class="blockquote-footer">
							<%= review.author_name %>
							<img
								src="/images/icons/google.svg"
								alt="Google"
								width="16"
								class="ms-1"
							/>
						</footer>
					</div>
				</div>
				<% }) %>
			</div>

			<!-- Controls -->
			<button
				class="carousel-control-prev"
				type="button"
				data-bs-target="#reviewsCarousel"
				data-bs-slide="prev"
			>
				<span
					class="carousel-control-prev-icon"
					aria-hidden="true"
				></span>
				<span class="visually-hidden">Previous</span>
			</button>
			<button
				class="carousel-control-next"
				type="button"
				data-bs-target="#reviewsCarousel"
				data-bs-slide="next"
			>
				<span
					class="carousel-control-next-icon"
					aria-hidden="true"
				></span>
				<span class="visually-hidden">Next</span>
			</button>
		</div>

		<% } else { %>
		<p class="text-center text-muted"><%= __('home.reviews.none') %></p>
		<% } %>
	</div>
</section>

<section id="booking" class="text-center bg-dark-custom py-2">
	<h2 class="text-white"><%= __('home.booking.start_today') %></h2>
	<a href="/booking" class="btn btn-light btn-lg mt-3">
		<i class="bi bi-calendar-event me-1"></i> <%=
		__('home.booking.book_now') %>
	</a>
</section>
